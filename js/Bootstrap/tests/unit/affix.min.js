$(function(){QUnit.module("affix plugin");QUnit.test("should be defined on jquery object",function(a){a.expect(1);a.ok($(document.body).affix,"affix method is defined")});QUnit.module("affix",{beforeEach:function(){$.fn.bootstrapAffix=$.fn.affix.noConflict()},afterEach:function(){$.fn.affix=$.fn.bootstrapAffix;delete $.fn.bootstrapAffix}});QUnit.test("should provide no conflict",function(a){a.expect(1);a.strictEqual($.fn.affix,undefined,"affix was set back to undefined (org value)")});QUnit.test("should return jquery collection containing the element",function(a){a.expect(2);var b=$("<div/>");var c=b.bootstrapAffix();a.ok(c instanceof $,"returns jquery collection");a.strictEqual(c[0],b[0],"collection contains element")});QUnit.test("should exit early if element is not visible",function(a){a.expect(1);var b=$('<div style="display: none"/>').bootstrapAffix();b.data("bs.affix").checkPosition();a.ok(!b.hasClass("affix"),"affix class was not added")});QUnit.test("should trigger affixed event after affix",function(b){b.expect(2);var a=b.async();var c='<div id="affixTarget"><ul><li>Please affix</li><li>And unaffix</li></ul></div><div id="affixAfter" style="height: 20000px; display: block;"/>';$(c).appendTo(document.body);$("#affixTarget").bootstrapAffix({offset:$("#affixTarget ul").position()});$("#affixTarget").on("affix.bs.affix",function(){b.ok(true,"affix event fired")}).on("affixed.bs.affix",function(){b.ok(true,"affixed event fired");$("#affixTarget, #affixAfter").remove();a()});setTimeout(function(){window.scrollTo(0,document.body.scrollHeight);setTimeout(function(){window.scroll(0,0)},16)},0)});QUnit.test("should affix-top when scrolling up to offset when parent has padding",function(b){b.expect(1);var a=b.async();var c='<div id="padding-offset" style="padding-top: 20px;"><div id="affixTopTarget"><p>Testing affix-top class is added</p></div><div style="height: 1000px; display: block;"/></div>';$(c).appendTo(document.body);$("#affixTopTarget").bootstrapAffix({offset:{top:120,bottom:0}}).on("affixed-top.bs.affix",function(){b.ok($("#affixTopTarget").hasClass("affix-top"),"affix-top class applied");$("#padding-offset").remove();a()});setTimeout(function(){window.scrollTo(0,document.body.scrollHeight);setTimeout(function(){window.scroll(0,119)},250)},250)})});