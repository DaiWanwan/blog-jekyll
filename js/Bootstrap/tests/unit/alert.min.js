$(function(){QUnit.module("alert plugin");QUnit.test("should be defined on jquery object",function(a){a.expect(1);a.ok($(document.body).alert,"alert method is defined")});QUnit.module("alert",{beforeEach:function(){$.fn.bootstrapAlert=$.fn.alert.noConflict()},afterEach:function(){$.fn.alert=$.fn.bootstrapAlert;delete $.fn.bootstrapAlert}});QUnit.test("should provide no conflict",function(a){a.expect(1);a.strictEqual($.fn.alert,undefined,"alert was set back to undefined (org value)")});QUnit.test("should return jquery collection containing the element",function(a){a.expect(2);var b=$("<div/>");var c=b.bootstrapAlert();a.ok(c instanceof $,"returns jquery collection");a.strictEqual(c[0],b[0],"collection contains element")});QUnit.test("should fade element out on clicking .close",function(a){a.expect(1);var b='<div class="alert alert-danger fade in"><a class="close" href="#" data-dismiss="alert">×</a><p><strong>Holy guacamole!</strong> Best check yo self, you\'re not looking too good.</p></div>';var c=$(b).bootstrapAlert();c.find(".close").trigger("click");a.strictEqual(c.hasClass("in"),false,"remove .in class on .close click")});QUnit.test("should remove element when clicking .close",function(a){a.expect(2);var b='<div class="alert alert-danger fade in"><a class="close" href="#" data-dismiss="alert">×</a><p><strong>Holy guacamole!</strong> Best check yo self, you\'re not looking too good.</p></div>';var c=$(b).appendTo("#qunit-fixture").bootstrapAlert();a.notEqual($("#qunit-fixture").find(".alert").length,0,"element added to dom");c.find(".close").trigger("click");a.strictEqual($("#qunit-fixture").find(".alert").length,0,"element removed from dom")});QUnit.test("should not fire closed when close is prevented",function(b){b.expect(1);var a=b.async();$('<div class="alert"/>').on("close.bs.alert",function(c){c.preventDefault();b.ok(true,"close event fired");a()}).on("closed.bs.alert",function(){b.ok(false,"closed event fired")}).bootstrapAlert("close")})});