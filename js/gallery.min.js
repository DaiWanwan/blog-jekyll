var delay={show:800,hide:800};var selector=$(".navbar-nav > li");$('[data-toggle="tooltip"]').tooltip(delay,selector);function _musicControl(){var a=document.getElementById("bgMusic");$(".musicControl").click(function(){event.stopPropagation();if(a.paused){a.play();$(".musicControl>i").removeClass("fa-play").addClass("fa-pause");$(".musicControl+img").removeClass("picture-pause")}else{a.pause();$(".musicControl>i").removeClass("fa-pause").addClass("fa-play");$(".musicControl+img").addClass("picture-pause")}})}_musicControl();$(function(){var b=$("#wrap");var d=$("#loading");var c=b.find("img");var a=c.length;c.each(function(f){var e=new Image();e.onload=function(){e.onload=null;if(f>=a-1){d.fadeOut()}};e.src=c[f].src})});function turn(b){var a=b.className;var c=b.id.split("_")[1];if(!/photo_center/.test(a)){return rsort(c)}if(/photo_front/.test(a)){a=a.replace(/photo_front/,"photo_back");g("#nav_"+c).className+=" i_back"}else{a=a.replace(/photo_back/,"photo_front");g("#nav_"+c).className=g("#nav_"+c).className.replace(/\s*i_back\s*/," ")}return b.className=a}function g(a){var b=a.substr(0,1)=="."?"getElementsByClassName":"getElementById";return document[b](a.substr(1))}function random(b){var a=Math.max(b[0],b[1]);var c=Math.min(b[0],b[1]);var e=a-c;var d=Math.ceil(Math.random()*e+c);return d}var data=data;function addPhotos(){var d=g("#wrap").innerHTML;var b=[];var e=[];for(var c=0;c<data.length;c++){var a=d.replace("{{index}}",c).replace("{{img}}",c+1+".jpg").replace("{{caption}}",data[c].caption).replace("{{desc}}",data[c].desc);b.push(a);e.push('<span id="nav_'+c+'" onclick="turn(g(\'#photo_'+c+'\'))" class="i"><i class=" fa fa-rotate-right"></i>&nbsp;</span>')}b.push('<div class="nav">'+e.join("")+"</div>");g("#wrap").innerHTML=b.join("");rsort(random([0,data.length]))}addPhotos();function range(){var a={left:{x:[],y:[]},right:{x:[],y:[]}};var c={w:g("#wrap").clientWidth,h:g("#wrap").clientHeight};var b={w:g(".photo")[0].clientWidth,h:g(".photo")[0].clientHeight};a.wrap=c;a.photo=b;a.left.x=[0,c.w/2-b.w];a.left.y=[0,c.h];a.right.x=[c.w/2+b.w,c.w];a.right.y=a.left.y;return a}function rsort(d){var e=g(".photo");var i=[];for(var j=0;j<e.length;j++){e[j].className=e[j].className.replace(/\s*photo_center\s*/," ");e[j].className=e[j].className.replace(/\s*photo_front\s*/," ");e[j].className=e[j].className.replace(/\s*photo_back\s*/," ");e[j].className+=" photo_front";e[j].style.left="";e[j].style.top="";e[j].style.transform="rotate(360deg) scale(1.3)";i.push(e[j])}var f=g("#photo_"+d);f.className+=" photo_center";f=i.splice(d,1)[0];var k=i.splice(0,Math.ceil(i.length/2));var c=i;var b=range();for(var j in k){var a=k[j];a.style.left=random(b.left.x)+"px";a.style.top=random(b.left.y)+"px";a.style.transform="rotate("+random([-150,150])+"deg) scale(1)"}for(var j in c){var a=c[j];a.style.left=random(b.right.x)+"px";a.style.top=random(b.right.y)+"px";a.style.transform="rotate("+random([-150,150])+"deg) scale(1)"}var h=g(".i");for(var j=0;j<h.length;j++){h[j].className=h[j].className.replace(/\s*i_current\s*/," ");h[j].className=h[j].className.replace(/\s*i_back\s*/," ")}g("#nav_"+d).className+=" i_current"};